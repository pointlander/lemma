# Self attention based computation of principal eigenvector under certian conditions
This code generates the principal eigenvector using self attention under the conditions:
- The input vectors are positive.
- No input transforms are used.

The self attention based eigenvectors do not have the same magnitude as the principal eigenvector, only the same angle.
The angle between the eigenvectors is smaller when softmax isn't used.
See code for details.

# Results
|eigenvalue     |mag eigenvector |mag self attention |cosine similarity (with softmax)|
| -----------:  | -----------:   | -----------:      | -----------:  |
|9206.530596    |1.000000        |95.267962          |0.979676|
|153.035448     |1.000000        |6.677844           |0.967490|
|146.985750     |1.000000        |6.469487           |0.967032|
|160.615877     |1.000000        |6.880530           |0.965821|
|145.946463     |1.000000        |6.241726           |0.963127|
|165.390938     |1.000000        |6.646201           |0.971719|
|168.939761     |1.000000        |6.637303           |0.967610|
|173.455692     |1.000000        |7.324602           |0.964891|
|164.364278     |1.000000        |7.093303           |0.965082|
|170.809366     |1.000000        |6.815885           |0.964670|
|168.725411     |1.000000        |6.963146           |0.971783|
|162.228956     |1.000000        |6.471354           |0.957326|
|152.398589     |1.000000        |6.420290           |0.964964|
|152.788177     |1.000000        |6.011698           |0.961383|
|159.292100     |1.000000        |6.641088           |0.961978|
|164.603275     |1.000000        |6.781595           |0.970627|
|165.112983     |1.000000        |7.025318           |0.963097|
|165.635110     |1.000000        |6.455346           |0.970197|
|157.807981     |1.000000        |6.499539           |0.966751|
|177.225237     |1.000000        |6.971489           |0.970760|
|158.409995     |1.000000        |6.420343           |0.964178|
|160.217627     |1.000000        |6.233390           |0.964693|
|170.408037     |1.000000        |7.133776           |0.963515|
|168.460888     |1.000000        |6.594924           |0.970950|
|153.034498     |1.000000        |6.524873           |0.967838|
|169.224380     |1.000000        |6.500595           |0.966955|
|174.409270     |1.000000        |7.013595           |0.963185|
|153.403013     |1.000000        |6.277223           |0.969020|
|157.568193     |1.000000        |6.493295           |0.972137|
|155.412338     |1.000000        |6.163024           |0.967136|
|162.250681     |1.000000        |6.594340           |0.967418|
|162.858646     |1.000000        |6.511601           |0.969240|
|148.066191     |1.000000        |6.250871           |0.967192|
|161.412856     |1.000000        |6.308377           |0.965175|
|154.030834     |1.000000        |6.039407           |0.961977|
|174.718474     |1.000000        |6.969898           |0.968564|
|165.243244     |1.000000        |6.815741           |0.963750|
|163.703212     |1.000000        |6.490107           |0.965378|
|168.063493     |1.000000        |6.475724           |0.971855|
|167.906161     |1.000000        |6.497066           |0.960129|
|167.534931     |1.000000        |6.784336           |0.965059|
|160.578051     |1.000000        |6.815965           |0.965940|
|164.235436     |1.000000        |6.536982           |0.967962|
|155.008998     |1.000000        |6.548110           |0.962167|
|168.404630     |1.000000        |6.042017           |0.963351|
|158.640308     |1.000000        |6.138811           |0.962273|
|169.846162     |1.000000        |7.062570           |0.963550|
|166.141267     |1.000000        |6.706509           |0.966519|
|154.979091     |1.000000        |6.249225           |0.965967|
|160.257850     |1.000000        |6.502338           |0.962483|
|161.575667     |1.000000        |6.861466           |0.970643|
|163.650667     |1.000000        |7.000538           |0.961950|
|163.903141     |1.000000        |6.550479           |0.965754|
|163.390138     |1.000000        |7.016451           |0.967132|
|153.517123     |1.000000        |6.939118           |0.964153|
|163.341905     |1.000000        |6.181780           |0.967710|
|163.202602     |1.000000        |6.498106           |0.969162|
|157.279692     |1.000000        |6.649323           |0.961826|
|157.167207     |1.000000        |6.459216           |0.967796|
|164.519616     |1.000000        |6.337793           |0.965765|
|172.830553     |1.000000        |6.946143           |0.966555|
|157.045462     |1.000000        |6.116538           |0.958633|
|158.939444     |1.000000        |6.169372           |0.966601|
|166.080571     |1.000000        |6.873749           |0.968836|
|155.330333     |1.000000        |6.276361           |0.965957|
|157.490737     |1.000000        |6.500678           |0.959955|
|169.363566     |1.000000        |6.415871           |0.964399|
|162.087452     |1.000000        |6.448137           |0.963823|
|166.146630     |1.000000        |6.409095           |0.962624|
|152.824261     |1.000000        |6.379470           |0.968502|
|146.829732     |1.000000        |6.456515           |0.964139|
|168.877339     |1.000000        |6.621731           |0.962982|
|168.070651     |1.000000        |6.735037           |0.971279|
|160.946507     |1.000000        |6.945548           |0.966535|
|167.129891     |1.000000        |6.698101           |0.962313|
|169.302965     |1.000000        |6.386418           |0.971382|
|162.711044     |1.000000        |6.820714           |0.961286|
|171.184705     |1.000000        |6.479948           |0.972740|
|163.758445     |1.000000        |6.786087           |0.970029|
|157.228066     |1.000000        |6.897502           |0.965146|
|168.130405     |1.000000        |7.153319           |0.965005|
|166.130041     |1.000000        |6.869857           |0.964518|
|175.154889     |1.000000        |7.173491           |0.967136|
|160.073787     |1.000000        |6.545292           |0.965389|
|152.161636     |1.000000        |6.392094           |0.963388|
|164.625480     |1.000000        |6.573605           |0.958175|
|159.881383     |1.000000        |6.868605           |0.961161|
|156.692569     |1.000000        |6.437777           |0.967282|
|158.534200     |1.000000        |6.013324           |0.966350|
|179.911712     |1.000000        |7.174269           |0.967939|
|158.838348     |1.000000        |5.587373           |0.960218|
|162.954921     |1.000000        |7.203439           |0.964688|
|161.096447     |1.000000        |6.860645           |0.963565|
|156.183857     |1.000000        |6.461804           |0.969288|
|169.187674     |1.000000        |6.765574           |0.968920|
|151.841936     |1.000000        |5.958579           |0.962246|
|163.061099     |1.000000        |6.349641           |0.965186|
|150.880346     |1.000000        |6.106754           |0.966595|
|161.731835     |1.000000        |6.297961           |0.968711|
|174.998578     |1.000000        |6.804727           |0.967600|
|168.526015     |1.000000        |6.916555           |0.972225|
|162.954771     |1.000000        |6.502600           |0.965421|
|169.277889     |1.000000        |6.708884           |0.964870|
|168.228308     |1.000000        |6.492005           |0.967914|
|159.667011     |1.000000        |7.356210           |0.966465|
|150.853417     |1.000000        |6.376264           |0.961893|
|156.269186     |1.000000        |6.799447           |0.961121|
|173.503051     |1.000000        |6.649155           |0.970533|
|168.339646     |1.000000        |6.439181           |0.968147|
|155.678395     |1.000000        |6.491497           |0.961954|
|159.265431     |1.000000        |6.530884           |0.967143|
|168.691649     |1.000000        |6.532615           |0.967979|
|161.585337     |1.000000        |6.650253           |0.966058|
|165.321779     |1.000000        |6.535029           |0.963632|
|155.662681     |1.000000        |6.734863           |0.964913|
|176.757512     |1.000000        |6.260079           |0.968214|
|177.075374     |1.000000        |6.768350           |0.966107|
|150.342079     |1.000000        |5.996217           |0.967129|
|167.786899     |1.000000        |6.814211           |0.962453|
|158.571917     |1.000000        |6.793648           |0.961036|
|172.169312     |1.000000        |7.102100           |0.962579|
|155.700443     |1.000000        |6.887268           |0.964365|
|155.115318     |1.000000        |6.317686           |0.964678|
|159.181861     |1.000000        |6.494668           |0.969242|
|160.698527     |1.000000        |6.389890           |0.967635|
|165.051598     |1.000000        |6.528850           |0.966169|
|160.228322     |1.000000        |6.611481           |0.967602|
|141.442469     |1.000000        |6.018621           |0.959190|
|161.683492     |1.000000        |6.363545           |0.963881|

|eigenvalue     |mag eigenvector |mag self attention |cosine similarity (without softmax)|
| -----------:  | -----------:   | -----------:      | -----------:  |
|9206.530596    |1.000000        |663563.299286      |0.999997|
|153.035448     |1.000000        |986.932529         |0.999315|
|146.985750     |1.000000        |921.390981         |0.999603|
|160.615877     |1.000000        |1062.004238        |0.999347|
|145.946463     |1.000000        |881.471524         |0.998908|
|165.390938     |1.000000        |1060.110611        |0.999368|
|168.939761     |1.000000        |1076.486190        |0.999434|
|173.455692     |1.000000        |1217.497038        |0.999531|
|164.364278     |1.000000        |1122.958085        |0.999475|
|170.809366     |1.000000        |1117.169061        |0.999353|
|168.725411     |1.000000        |1130.548081        |0.999492|
|162.228956     |1.000000        |1004.520971        |0.998330|
|152.398589     |1.000000        |942.872802         |0.999132|
|152.788177     |1.000000        |884.139813         |0.999482|
|159.292100     |1.000000        |1015.351799        |0.999181|
|164.603275     |1.000000        |1078.569778        |0.999247|
|165.112983     |1.000000        |1107.108619        |0.999607|
|165.635110     |1.000000        |1034.053413        |0.999077|
|157.807981     |1.000000        |989.866195         |0.999169|
|177.225237     |1.000000        |1191.653017        |0.999147|
|158.409995     |1.000000        |981.265974         |0.998862|
|160.217627     |1.000000        |963.461947         |0.999021|
|170.408037     |1.000000        |1161.864926        |0.999457|
|168.460888     |1.000000        |1068.981161        |0.999337|
|153.034498     |1.000000        |961.107531         |0.999387|
|169.224380     |1.000000        |1055.491698        |0.999409|
|174.409270     |1.000000        |1169.397747        |0.999559|
|153.403013     |1.000000        |932.864167         |0.999047|
|157.568193     |1.000000        |989.713896         |0.999436|
|155.412338     |1.000000        |923.322647         |0.999214|
|162.250681     |1.000000        |1028.272934        |0.998982|
|162.858646     |1.000000        |1026.139767        |0.999016|
|148.066191     |1.000000        |895.530530         |0.998744|
|161.412856     |1.000000        |977.204049         |0.998893|
|154.030834     |1.000000        |897.585165         |0.998908|
|174.718474     |1.000000        |1166.419430        |0.999318|
|165.243244     |1.000000        |1079.371510        |0.999283|
|163.703212     |1.000000        |1019.041048        |0.999333|
|168.063493     |1.000000        |1054.097491        |0.999116|
|167.906161     |1.000000        |1042.329824        |0.999138|
|167.534931     |1.000000        |1088.410514        |0.999461|
|160.578051     |1.000000        |1054.150942        |0.999504|
|164.235436     |1.000000        |1032.632653        |0.999083|
|155.008998     |1.000000        |973.848494         |0.999164|
|168.404630     |1.000000        |969.162695         |0.998880|
|158.640308     |1.000000        |932.434099         |0.999005|
|169.846162     |1.000000        |1142.183379        |0.999762|
|166.141267     |1.000000        |1068.792570        |0.999324|
|154.979091     |1.000000        |930.404063         |0.999272|
|160.257850     |1.000000        |993.183997         |0.999284|
|161.575667     |1.000000        |1073.839519        |0.998952|
|163.650667     |1.000000        |1098.034117        |0.999714|
|163.903141     |1.000000        |1033.038479        |0.998705|
|163.390138     |1.000000        |1104.663242        |0.999437|
|153.517123     |1.000000        |1029.581357        |0.999417|
|163.341905     |1.000000        |972.653563         |0.998229|
|163.202602     |1.000000        |1023.257487        |0.999532|
|157.279692     |1.000000        |999.641199         |0.999220|
|157.167207     |1.000000        |980.416235         |0.999180|
|164.519616     |1.000000        |1000.514799        |0.999327|
|172.830553     |1.000000        |1151.895329        |0.999575|
|157.045462     |1.000000        |915.874324         |0.998832|
|158.939444     |1.000000        |944.702202         |0.998937|
|166.080571     |1.000000        |1096.793760        |0.999513|
|155.330333     |1.000000        |940.219388         |0.999416|
|157.490737     |1.000000        |979.557709         |0.999411|
|169.363566     |1.000000        |1040.782782        |0.999386|
|162.087452     |1.000000        |1001.808777        |0.998964|
|166.146630     |1.000000        |1021.310957        |0.999389|
|152.824261     |1.000000        |936.832629         |0.998848|
|146.829732     |1.000000        |911.813623         |0.998692|
|168.877339     |1.000000        |1067.384958        |0.999622|
|168.070651     |1.000000        |1091.169738        |0.999083|
|160.946507     |1.000000        |1076.632457        |0.999656|
|167.129891     |1.000000        |1068.878228        |0.999293|
|169.302965     |1.000000        |1043.349807        |0.999226|
|162.711044     |1.000000        |1064.869687        |0.999423|
|171.184705     |1.000000        |1070.166797        |0.999216|
|163.758445     |1.000000        |1072.393726        |0.999408|
|157.228066     |1.000000        |1046.396507        |0.999302|
|168.130405     |1.000000        |1147.423876        |0.999691|
|166.130041     |1.000000        |1098.639801        |0.999291|
|175.154889     |1.000000        |1198.024532        |0.999477|
|160.073787     |1.000000        |1002.511192        |0.999387|
|152.161636     |1.000000        |940.430782         |0.999528|
|164.625480     |1.000000        |1032.317496        |0.999344|
|159.881383     |1.000000        |1054.191665        |0.998984|
|156.692569     |1.000000        |975.302779         |0.999110|
|158.534200     |1.000000        |915.931027         |0.998167|
|179.911712     |1.000000        |1232.841465        |0.999751|
|158.838348     |1.000000        |848.501567         |0.998799|
|162.954921     |1.000000        |1126.246139        |0.999698|
|161.096447     |1.000000        |1062.143340        |0.999456|
|156.183857     |1.000000        |974.546894         |0.999037|
|169.187674     |1.000000        |1100.147076        |0.999688|
|151.841936     |1.000000        |869.090949         |0.998766|
|163.061099     |1.000000        |995.329331         |0.999024|
|150.880346     |1.000000        |888.211331         |0.999080|
|161.731835     |1.000000        |984.603202         |0.999145|
|174.998578     |1.000000        |1135.187239        |0.999652|
|168.526015     |1.000000        |1126.843098        |0.999610|
|162.954771     |1.000000        |1017.808123        |0.999334|
|169.277889     |1.000000        |1086.866835        |0.999141|
|168.228308     |1.000000        |1049.004683        |0.999157|
|159.667011     |1.000000        |1132.786460        |0.999613|
|150.853417     |1.000000        |924.619091         |0.999382|
|156.269186     |1.000000        |1018.898690        |0.998538|
|173.503051     |1.000000        |1105.225452        |0.999182|
|168.339646     |1.000000        |1042.579505        |0.999230|
|155.678395     |1.000000        |969.937637         |0.999090|
|159.265431     |1.000000        |999.033539         |0.999304|
|168.691649     |1.000000        |1056.922474        |0.998963|
|161.585337     |1.000000        |1032.916585        |0.999591|
|165.321779     |1.000000        |1030.084105        |0.999210|
|155.662681     |1.000000        |1006.992628        |0.999525|
|176.757512     |1.000000        |1060.100038        |0.999358|
|177.075374     |1.000000        |1140.121328        |0.999639|
|150.342079     |1.000000        |870.263814         |0.998531|
|167.786899     |1.000000        |1089.167103        |0.999548|
|158.571917     |1.000000        |1027.084912        |0.999306|
|172.169312     |1.000000        |1164.404668        |0.999624|
|155.700443     |1.000000        |1032.449923        |0.999476|
|155.115318     |1.000000        |946.423578         |0.999128|
|159.181861     |1.000000        |996.326855         |0.999385|
|160.698527     |1.000000        |987.887217         |0.999378|
|165.051598     |1.000000        |1034.203451        |0.999606|
|160.228322     |1.000000        |1025.394188        |0.999493|
|141.442469     |1.000000        |823.310567         |0.999125|
|161.683492     |1.000000        |992.011656         |0.999337|

```
0/129 outside of cosine similarity of .95 (with softmax)
0/129 outside of cosine similarity of .99 (without softmax)
```
